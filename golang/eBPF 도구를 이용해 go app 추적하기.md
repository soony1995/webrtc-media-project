## eBPF 

## 1. 소개
    운영체제 기능을 확장하는 
    커널 개발자를 위한 자바스크립트 
### 특징
    - 운영체제 안에서 실행
    - 운영체제 내부 api 접근 가능
    - 커널 내부에서 안정하게 실행되도록 제약
    - 커널 개발자 대상이기 대문에 배우기 어려움
### 런타임
    - verifier (커널에 영향을 주는 지 확인)
    - jit (빠르게 작동 할 수 있도록 변환 작업)
    두 개의 동작이 일어난다.

## 2. 이벤트 소스
### kprobe, kretprobe 
    커널 코드 임의의 위치에 동ㅈ억으로 이벤트설정
    특정 커널 함수의 진입(kprobe), 반환(kretprobe) 추적
### uprobe, uretpobe
    사용자 공간 프로그램 임임의 위치에 동적으로 이벤트 설정
    특정 사용자 공간 함수의 진입(uporbe), 반환(uretprobe) 추적
### tracepoint
    커널 코드 특정 위치에 정적으로 설정된 이벤트 커널 개발자들이 중요하다고 판단하는 위치에 설정 kprobe 이벤트에 비해 안정적인 api 제공
### usdt
    사용자 공간 프로그램에 정적으로 미리 설정된 이벤트 

## 3. bpftrace 소개

### bpftrace
    - eBPF, BCC 기반 오픈 소스 트레이싱 도구
    - 복잡한 로직과 데이터 처리를 할 수 있는 고급 언어 지원
    - kprove,uprobe,tracepoint,usdt 등 다양한 이벤트 지원
    - 표준 출력 및 히스토그램, 히트맵 등 다양한 출력 형식 지원 

### bpftrace 구조
    - 프론트엔드 
        - 프로그래밍 언어 분석에 
    - 백엔드
        - bpftrace 프로그램을 LLVM IR을 이용해 컴파일 
        - LLVM 라이버리를 이용함.

